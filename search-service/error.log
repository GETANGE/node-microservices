{"level":"error","message":"Failed to connect to server consume is not defined","service":"search-service","stack":"ReferenceError: consume is not defined\n    at startServer (file:///home/emmanuel/Desktop/Projects/node-microservices/search-service/server.js:93:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-05-19T11:40:25.512Z"}
{"level":"error","message":"Failed to connect to server search is not defined","service":"search-service","stack":"ReferenceError: search is not defined\n    at startServer (file:///home/emmanuel/Desktop/Projects/node-microservices/search-service/server.js:93:44)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-05-19T11:40:53.984Z"}
{"level":"error","message":"Failed to connect to server searchEventHandler is not defined","service":"search-service","stack":"ReferenceError: searchEventHandler is not defined\n    at startServer (file:///home/emmanuel/Desktop/Projects/node-microservices/search-service/server.js:93:44)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-05-19T11:40:59.717Z"}
{"level":"error","message":"Failed to connect to server searchEventHandler is not defined","service":"search-service","stack":"ReferenceError: searchEventHandler is not defined\n    at startServer (file:///home/emmanuel/Desktop/Projects/node-microservices/search-service/server.js:93:44)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-05-19T11:41:59.756Z"}
{"level":"error","message":"Failed to connect to server searchEventHandler is not defined","service":"search-service","stack":"ReferenceError: searchEventHandler is not defined\n    at startServer (file:///home/emmanuel/Desktop/Projects/node-microservices/search-service/server.js:93:44)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-05-19T11:42:15.500Z"}
{"level":"error","message":"Failed to connect to server searchEventHandler is not defined","service":"search-service","stack":"ReferenceError: searchEventHandler is not defined\n    at startServer (file:///home/emmanuel/Desktop/Projects/node-microservices/search-service/server.js:93:44)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-05-19T11:42:22.009Z"}
{"level":"error","message":"Failed to connect to server searchEventHandler is not defined","service":"search-service","stack":"ReferenceError: searchEventHandler is not defined\n    at startServer (file:///home/emmanuel/Desktop/Projects/node-microservices/search-service/server.js:93:44)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-05-19T11:44:41.370Z"}
{"level":"error","message":"Failed to connect to server searchEventHandler is not defined","service":"search-service","stack":"ReferenceError: searchEventHandler is not defined\n    at startServer (file:///home/emmanuel/Desktop/Projects/node-microservices/search-service/server.js:93:44)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-05-19T11:44:45.563Z"}
{"level":"error","message":"Failed to connect to server searchEventHandler is not defined","service":"search-service","stack":"ReferenceError: searchEventHandler is not defined\n    at startServer (file:///home/emmanuel/Desktop/Projects/node-microservices/search-service/server.js:93:44)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-05-19T11:44:48.134Z"}
{"level":"error","message":"Failed to connect to server searchEventHandler is not defined","service":"search-service","stack":"ReferenceError: searchEventHandler is not defined\n    at startServer (file:///home/emmanuel/Desktop/Projects/node-microservices/search-service/server.js:93:44)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-05-19T11:44:56.520Z"}
{"level":"error","message":"Failed to connect to server searchEventHandler is not defined","service":"search-service","stack":"ReferenceError: searchEventHandler is not defined\n    at startServer (file:///home/emmanuel/Desktop/Projects/node-microservices/search-service/server.js:93:44)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-05-19T11:45:02.422Z"}
{"level":"error","message":"Failed to connect to server searchEventHandler is not defined","service":"search-service","stack":"ReferenceError: searchEventHandler is not defined\n    at startServer (file:///home/emmanuel/Desktop/Projects/node-microservices/search-service/server.js:93:44)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-05-19T11:45:19.879Z"}
{"level":"error","message":"Failed to connect to server searchEventHandler is not defined","service":"search-service","stack":"ReferenceError: searchEventHandler is not defined\n    at startServer (file:///home/emmanuel/Desktop/Projects/node-microservices/search-service/server.js:93:44)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-05-19T11:45:24.761Z"}
{"level":"error","message":"Failed to connect to server searchEventHandler is not defined","service":"search-service","stack":"ReferenceError: searchEventHandler is not defined\n    at startServer (file:///home/emmanuel/Desktop/Projects/node-microservices/search-service/server.js:93:44)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-05-19T11:45:28.340Z"}
{"level":"error","message":"Failed to connect to server searchEventHandler is not defined","service":"search-service","stack":"ReferenceError: searchEventHandler is not defined\n    at startServer (file:///home/emmanuel/Desktop/Projects/node-microservices/search-service/server.js:93:44)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-05-19T11:45:34.660Z"}
{"level":"error","message":"Failed to connect to server searchEventHandler is not defined","service":"search-service","stack":"ReferenceError: searchEventHandler is not defined\n    at startServer (file:///home/emmanuel/Desktop/Projects/node-microservices/search-service/server.js:93:44)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-05-19T11:45:37.534Z"}
{"level":"error","message":"Failed to connect to server searchEventHandler is not defined","service":"search-service","stack":"ReferenceError: searchEventHandler is not defined\n    at startServer (file:///home/emmanuel/Desktop/Projects/node-microservices/search-service/server.js:93:44)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-05-19T11:45:48.309Z"}
{"level":"error","message":"Failed to connect to server searchEventHandler is not defined","service":"search-service","stack":"ReferenceError: searchEventHandler is not defined\n    at startServer (file:///home/emmanuel/Desktop/Projects/node-microservices/search-service/server.js:93:44)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-05-19T11:45:57.648Z"}
{"level":"error","message":"Failed to connect to server searchEventHandler is not defined","service":"search-service","stack":"ReferenceError: searchEventHandler is not defined\n    at startServer (file:///home/emmanuel/Desktop/Projects/node-microservices/search-service/server.js:93:44)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-05-19T11:46:00.318Z"}
{"level":"error","message":"Failed to connect to server searchEventHandler is not defined","service":"search-service","stack":"ReferenceError: searchEventHandler is not defined\n    at startServer (file:///home/emmanuel/Desktop/Projects/node-microservices/search-service/server.js:93:44)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-05-19T11:46:08.226Z"}
{"level":"error","message":"Failed to connect to server searchEventHandler is not defined","service":"search-service","stack":"ReferenceError: searchEventHandler is not defined\n    at startServer (file:///home/emmanuel/Desktop/Projects/node-microservices/search-service/server.js:93:44)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-05-19T11:46:20.878Z"}
{"level":"error","message":"Failed to connect to server searchEventHandler is not defined","service":"search-service","stack":"ReferenceError: searchEventHandler is not defined\n    at startServer (file:///home/emmanuel/Desktop/Projects/node-microservices/search-service/server.js:93:44)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-05-19T11:46:25.976Z"}
{"level":"error","message":"Failed to connect to server searchEventHandler is not defined","service":"search-service","stack":"ReferenceError: searchEventHandler is not defined\n    at startServer (file:///home/emmanuel/Desktop/Projects/node-microservices/search-service/server.js:93:44)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-05-19T11:46:31.772Z"}
{"code":14,"codeName":"TypeMismatch","errorLabelSet":{},"errorResponse":{"code":14,"codeName":"TypeMismatch","errmsg":"\"$search\" had the wrong type. Expected string, found null","ok":0},"level":"error","message":"Internal server error \"$search\" had the wrong type. Expected string, found null","ok":0,"service":"search-service","stack":"MongoServerError: \"$search\" had the wrong type. Expected string, found null\n    at Connection.sendCommand (/home/emmanuel/Desktop/Projects/node-microservices/search-service/node_modules/.pnpm/mongodb@6.16.0/node_modules/mongodb/lib/cmap/connection.js:299:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Connection.command (/home/emmanuel/Desktop/Projects/node-microservices/search-service/node_modules/.pnpm/mongodb@6.16.0/node_modules/mongodb/lib/cmap/connection.js:327:26)\n    at async Server.command (/home/emmanuel/Desktop/Projects/node-microservices/search-service/node_modules/.pnpm/mongodb@6.16.0/node_modules/mongodb/lib/sdam/server.js:168:29)\n    at async FindOperation.execute (/home/emmanuel/Desktop/Projects/node-microservices/search-service/node_modules/.pnpm/mongodb@6.16.0/node_modules/mongodb/lib/operations/find.js:36:16)\n    at async tryOperation (/home/emmanuel/Desktop/Projects/node-microservices/search-service/node_modules/.pnpm/mongodb@6.16.0/node_modules/mongodb/lib/operations/execute_operation.js:207:20)\n    at async executeOperation (/home/emmanuel/Desktop/Projects/node-microservices/search-service/node_modules/.pnpm/mongodb@6.16.0/node_modules/mongodb/lib/operations/execute_operation.js:75:16)\n    at async FindCursor._initialize (/home/emmanuel/Desktop/Projects/node-microservices/search-service/node_modules/.pnpm/mongodb@6.16.0/node_modules/mongodb/lib/cursor/find_cursor.js:61:26)\n    at async FindCursor.cursorInit (/home/emmanuel/Desktop/Projects/node-microservices/search-service/node_modules/.pnpm/mongodb@6.16.0/node_modules/mongodb/lib/cursor/abstract_cursor.js:633:27)\n    at async FindCursor.fetchBatch (/home/emmanuel/Desktop/Projects/node-microservices/search-service/node_modules/.pnpm/mongodb@6.16.0/node_modules/mongodb/lib/cursor/abstract_cursor.js:667:13)","timestamp":"2025-05-19T12:23:13.009Z"}
{"code":14,"codeName":"TypeMismatch","errorLabelSet":{},"errorResponse":{"code":14,"codeName":"TypeMismatch","errmsg":"\"$search\" had the wrong type. Expected string, found null","ok":0},"level":"error","message":"Internal server error \"$search\" had the wrong type. Expected string, found null","ok":0,"service":"search-service","stack":"MongoServerError: \"$search\" had the wrong type. Expected string, found null\n    at Connection.sendCommand (/home/emmanuel/Desktop/Projects/node-microservices/search-service/node_modules/.pnpm/mongodb@6.16.0/node_modules/mongodb/lib/cmap/connection.js:299:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Connection.command (/home/emmanuel/Desktop/Projects/node-microservices/search-service/node_modules/.pnpm/mongodb@6.16.0/node_modules/mongodb/lib/cmap/connection.js:327:26)\n    at async Server.command (/home/emmanuel/Desktop/Projects/node-microservices/search-service/node_modules/.pnpm/mongodb@6.16.0/node_modules/mongodb/lib/sdam/server.js:168:29)\n    at async FindOperation.execute (/home/emmanuel/Desktop/Projects/node-microservices/search-service/node_modules/.pnpm/mongodb@6.16.0/node_modules/mongodb/lib/operations/find.js:36:16)\n    at async tryOperation (/home/emmanuel/Desktop/Projects/node-microservices/search-service/node_modules/.pnpm/mongodb@6.16.0/node_modules/mongodb/lib/operations/execute_operation.js:207:20)\n    at async executeOperation (/home/emmanuel/Desktop/Projects/node-microservices/search-service/node_modules/.pnpm/mongodb@6.16.0/node_modules/mongodb/lib/operations/execute_operation.js:75:16)\n    at async FindCursor._initialize (/home/emmanuel/Desktop/Projects/node-microservices/search-service/node_modules/.pnpm/mongodb@6.16.0/node_modules/mongodb/lib/cursor/find_cursor.js:61:26)\n    at async FindCursor.cursorInit (/home/emmanuel/Desktop/Projects/node-microservices/search-service/node_modules/.pnpm/mongodb@6.16.0/node_modules/mongodb/lib/cursor/abstract_cursor.js:633:27)\n    at async FindCursor.fetchBatch (/home/emmanuel/Desktop/Projects/node-microservices/search-service/node_modules/.pnpm/mongodb@6.16.0/node_modules/mongodb/lib/cursor/abstract_cursor.js:667:13)","timestamp":"2025-05-19T12:25:42.983Z"}
{"level":"error","message":"Failed to connect to server handle is not defined","service":"search-service","stack":"ReferenceError: handle is not defined\n    at startServer (file:///home/emmanuel/Desktop/Projects/node-microservices/search-service/server.js:95:44)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-05-19T12:32:57.352Z"}
{"level":"error","message":"Failed to connect to server handleDele is not defined","service":"search-service","stack":"ReferenceError: handleDele is not defined\n    at startServer (file:///home/emmanuel/Desktop/Projects/node-microservices/search-service/server.js:95:44)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-05-19T12:33:01.216Z"}
{"level":"error","message":"Failed to connect to server handleDeletedPost is not defined","service":"search-service","stack":"ReferenceError: handleDeletedPost is not defined\n    at startServer (file:///home/emmanuel/Desktop/Projects/node-microservices/search-service/server.js:95:44)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-05-19T12:33:04.553Z"}
{"level":"error","message":"Failed to connect to server handlePostDeleted is not defined","service":"search-service","stack":"ReferenceError: handlePostDeleted is not defined\n    at startServer (file:///home/emmanuel/Desktop/Projects/node-microservices/search-service/server.js:95:44)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-05-19T12:34:24.155Z"}
{"level":"error","message":"Failed to connect to server handlePostDeleted is not defined","service":"search-service","stack":"ReferenceError: handlePostDeleted is not defined\n    at startServer (file:///home/emmanuel/Desktop/Projects/node-microservices/search-service/server.js:95:44)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-05-19T12:34:46.652Z"}
